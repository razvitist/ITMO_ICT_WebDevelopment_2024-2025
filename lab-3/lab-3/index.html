
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../practice-3/">
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.34">
    
    
      
        <title>Lab-3 - Web Docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.35f28582.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#3" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Web Docs" class="md-header__button md-logo" aria-label="Web Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Web Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Lab-3
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Web Docs" class="md-nav__button md-logo" aria-label="Web Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Web Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Lab-1
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Lab-1
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lab-1/task-1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Task-1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lab-1/task-2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Task-2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lab-1/task-3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Task-3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lab-1/task-4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Task-4
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lab-1/task-5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Task-5
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Lab-2
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Lab-2
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lab-2/practice-1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Practice-1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lab-2/practice-2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Practice-2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lab-2/practice-3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Practice-3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lab-2/lab-2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lab-2
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Lab-3
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Lab-3
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../practice-1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Practice-1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../practice-2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Practice-2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../practice-3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Practice-3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Lab-3
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Lab-3
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      Задание
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Задание">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      Лабораторная часть
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#no3" class="md-nav__link">
    <span class="md-ellipsis">
      Сдача работы №3
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Сдача работы №3">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      Этап 1
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      Этап 2
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      Вариант
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#code" class="md-nav__link">
    <span class="md-ellipsis">
      Code
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      Задание
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Задание">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      Лабораторная часть
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#no3" class="md-nav__link">
    <span class="md-ellipsis">
      Сдача работы №3
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Сдача работы №3">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      Этап 1
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      Этап 2
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      Вариант
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#code" class="md-nav__link">
    <span class="md-ellipsis">
      Code
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="3">Лабораторная работа 3</h1>
<h2 id="_1">Задание</h2>
<h3 id="_2">Лабораторная часть</h3>
<p>Срок сдачи общий для всех групп <strong>2.12.2024</strong></p>
<p>Реализация серверной части приложения средствами django и djangorestframework в соответствии с заданием из <a href="https://drive.google.com/file/d/1QxQo5jln6soFUj6EmOVEo1yauCo375PP/view?usp=sharing">текста работы</a>.</p>
<p>Порядок выполнения работы:<br>
1.  Выполнить Практические работы <a href="https://docs.google.com/document/d/1jB8EYOWk-bbjB6sLr1s7dOmLYRC9Z5jIV6xIpnigdvY/edit?usp=sharing">3.1</a> и <a href="https://docs.google.com/document/d/1PkpwxCUYQ2_Pi8Fpcgno6te3oCQHZfkh03Zxt6DhHSw/edit">3.2</a><br><br>
2.  Выбрать вариант или предложить свой, есть 3 способа:<br>
2.1.    Предложить свой вариант.<br>
2.3.    Выбрать вариант из вариантов по курсу «Основы баз данных» (https://drive.google.com/file/d/174gPjJ7AOHfzteYcobPY0x7sFBTkN1Xx/view?usp=sharing).<br>
2.3.    Использовать вариант из курса Давида по фронтент-разработке.
2.4.    Если хочется сделать что-то полнофункциональное для порфтолио и задеплоить, можно поговорить с Антоном Игореувичем и он предложит несколько важных для него тем (при этом варианте шаги по работе чаще нужно будет согласовывать с преподавателями).
По любому из способов функционал нужно согласовать с преподавателем или ментором. В лабораторной работе №4 необходимо будет реализовать клиентскую часть(фронтенд) по этому же варианту.<br><br>
3.  Реализовать модель базы данных средствами DjangoORM (согласовать с преподавателем на консультации).<br>
При необходимости, студент может согласовать модель базы данных с преподавателем и только потом приступить к описанию модели средствами Django ORM<br>
Полезные материалы:<br>
    - <a href="https://www.youtube.com/watch?v=LZyk9p0tKXc">Создание модели данных в Django ORM</a> (Видео)<br><br>
    - <a href="https://docs.google.com/document/d/1jB8EYOWk-bbjB6sLr1s7dOmLYRC9Z5jIV6xIpnigdvY/edit?usp=sharing">3.1</a>
4.  Реализовать логику работу API средствами Django REST Framework (используя методы сериализации).<br>
Полезные материалы:<br>
    - Пункты 4, 5, 6 в <a href="https://docs.google.com/document/d/1PkpwxCUYQ2_Pi8Fpcgno6te3oCQHZfkh03Zxt6DhHSw/edit">Практической работе 3.1</a><br>
    - <a href="https://youtu.be/AHnBL9x6-rs">DJANGO API VIEWS, GENERICS, FILTER</a> (Видео)<br>
    - <a href="https://youtu.be/sxdPf3z6Uw8">JSON. Сериализация данных. Пишем свой сериализатор. Разбираем Django REST Framework Serializers</a> (Видео)<br>
    - <a href="https://youtu.be/HhrPbmHbDPU">Работа с Django ORM</a> (Видео)<br><br>
5.  Подключить регистрацию / авторизацию по токенам / вывод информации о текущем пользователе средствами Djoser.<br>
Полезные материалы:<br>
    - Djoser (<a href="https://youtu.be/NT-cI6rJl5Q">DRF + Djoser часть 1. Регистрация, авторизация по токенам, получение и изменение данных пользователя</a>) (Видео)<br><br>
6.  Выполнить практическую работу 3.2 по оформлению документации (в процессе разработки)<br><br>
7.  Реализовать документацию, описывающую работу всех используемых endpoint-ов из пункта 3 и 4 средствами Read the Docs или MkDocs.<br><br>
Полезные материалы:
    - Пункт 3 <a href="https://docs.google.com/document/d/1rIfREFvCB4pp8uF990Tz3PLXRJ5u_w-Y3vLxfXWKoxg/edit?usp=sharing">из практической работы №3.2</a></p>
<p>Работа выполняется индивидуально.<br>
Код практический и лабораторной части должен быть загружен в репозиторий курса, в соответствии с инструкциями тут.<br>
Работу необходимо защитить на консультации или прислать видео с описанием проделанной работы.<br></p>
<h3 id="no3">Сдача работы №3</h3>
<p>Работа выполняется индивидуально.<br></p>
<h4 id="1">Этап 1</h4>
<p>Полученную программу залить в папку этого репозитория <strong>sutdents/группа/laboratory_works/фамилия_имя/laboratiry_work_3</strong>. 
Сделать страницу документации по работе в вашем mkdocs по всем работам. Описать в документации модель данных, важный блоки кода, ендпоинты.
Инструкция о загрузке работы ниже. Не забывайте о файле gitignore.</p>
<h4 id="2">Этап 2</h4>
<p>Работу необходимо защитить лично.</p>
<h2 id="_3">Вариант</h2>
<p>Создать программную систему, предназначенную для завуча школы. Она должна обеспечивать хранение сведений о каждом учителе, классном руководстве, о предметах, которые он преподает в заданный период, номере закрепленного за ним кабинета, о расписании занятий. Существуют учителя, которые не имеют собственного кабинета. Об учениках должны храниться следующие сведения: фамилия и имя, в каком классе учится, какую оценку имеет в текущей четверти по каждому предмету.</p>
<p>Завуч должен иметь возможность добавить сведения о новом учителе или ученике, внести в базу данных четвертные оценки учеников каждого класса по каждому предмету, удалить данные об уволившемся учителе и отчисленном из школы ученике, внести изменения в данные об учителях и учениках, в том числе поменять оценку ученика по тому или иному предмету. В задачу завуча входит также составление расписания.</p>
<p>Завучу могут потребоваться следующие сведения:</p>
<ul>
<li>Какой предмет будет в заданном классе, в заданный день недели на заданном уроке?</li>
<li>Сколько учителей преподает каждую из дисциплин в школе?</li>
<li>Список учителей, преподающих те же предметы, что и учитель, ведущий информатику в заданном классе.</li>
<li>Сколько мальчиков и девочек в каждом классе?</li>
<li>Сколько кабинетов в школе для базовых и профильных дисциплин?</li>
</ul>
<p>Необходимо предусмотреть возможность получения документа, представляющего собой отчет об успеваемости заданного класса. Отчет включает сведения об успеваемости за четверть по каждому предмету. Необходимо подсчитать средний балл по каждому предмету, по классу в целом, указать общее количество учеников в классе. Для класса указать классного руководителя.</p>
<h2 id="code">Code</h2>
<p>settings.py</p>
<pre><code class="language-python">...
INSTALLED_APPS = [
  ...
  'rest_framework',
  'rest_framework.authtoken',
  'djoser',
  'school',
  'django_extensions',
]
...
# TIME_ZONE = &quot;UTC&quot;
TIME_ZONE = &quot;Europe/Moscow&quot;
...
REST_FRAMEWORK = {
  # 'DEFAULT_PERMISSION_CLASSES': [
  #   'rest_framework.renderers.JSONRenderer',
  #   'rest_framework.renderers.BrowsableAPIRenderer',
  # ],
  # 'DEFAULT_PERMISSION_CLASSES': [
  #   # 'rest_framework.permissions.DjangoModelPermissionsOrAnonReadOnly',
  #   'rest_framework.permissions.IsAuthenticated',
  # ],
  'DEFAULT_AUTHENTICATION_CLASSES': [
    'rest_framework.authentication.TokenAuthentication',
    # 'rest_framework.authentication.BasicAuthentication',
    # 'rest_framework.authentication.SessionAuthentication',
  ]
}
</code></pre>
<p>admin.py</p>
<pre><code class="language-python">from django.contrib import admin

from .models import Teacher, Student, Subject, Grade, Lesson

admin.site.register(Teacher)
admin.site.register(Student)
admin.site.register(Subject)
admin.site.register(Grade)
admin.site.register(Lesson)
</code></pre>
<p>models.py</p>
<pre><code class="language-python">from django.db import models
from django.core.validators import MinValueValidator, MaxValueValidator

class Subject(models.Model):
  name = models.CharField(max_length=50)

  def __str__(self):
    return self.name

class Teacher(models.Model):
  first_name = models.CharField(max_length=50)
  last_name = models.CharField(max_length=50)
  classroom = models.PositiveSmallIntegerField(blank=True, null=True)
  subjects = models.ManyToManyField(Subject, through='TeacherSubject', blank=True)

  def __str__(self):
    return f'{self.first_name} {self.last_name}'

class TeacherSubject(models.Model):
  teacher = models.ForeignKey(Teacher, models.CASCADE)
  subject = models.ForeignKey(Subject, models.CASCADE)

class Grade(models.Model):
  number = models.PositiveSmallIntegerField(validators=[MinValueValidator(1), MaxValueValidator(11)])
  letter = models.CharField(max_length=1, choices=[('A', 'A'), ('B', 'B'), ('C', 'C'), ('D', 'D'), ('E', 'E')])
  teacher = models.ForeignKey(Teacher, models.SET_NULL, null=True)

  def __str__(self):
    return f'{self.number}{self.letter}'

class Student(models.Model):
  first_name = models.CharField(max_length=50)
  last_name = models.CharField(max_length=50)
  gender = models.CharField(max_length=1, choices=[('M', 'Male'), ('F', 'Female')])
  grade = models.ForeignKey(Grade, models.CASCADE)
  marks = models.ManyToManyField(Subject, through='Mark', blank=True)

  def __str__(self):
    return f'{self.first_name} {self.last_name}'

class Mark(models.Model):
  student = models.ForeignKey(Student, models.CASCADE)
  subject = models.ForeignKey(Subject, models.CASCADE)
  mark = models.FloatField(validators=[MinValueValidator(1), MaxValueValidator(5)])

class Lesson(models.Model):
  grade = models.ForeignKey(Grade, models.CASCADE)
  subject = models.ForeignKey(Subject, models.CASCADE)
  teacher = models.ForeignKey(Teacher, models.CASCADE)
  day_of_week = models.PositiveSmallIntegerField(
    choices=[(1, 'Monday'), (2, 'Tuesday'), (3, 'Wednesday'), (4, 'Thursday'), (5, 'Friday'), (6, 'Saturday')]
  )
  number = models.SmallIntegerField()

  class Meta:
    unique_together = ('grade', 'day_of_week', 'number')

  def __str__(self):
    return f'{self.grade}. {self.day_of_week}, {self.number} lesson - {self.subject}'
</code></pre>
<p>serializers.py</p>
<pre><code class="language-python">from rest_framework import serializers
from .models import Teacher, Student, Subject, Mark, Lesson, Grade

class SubjectSerializer(serializers.ModelSerializer):
  class Meta:
    model = Subject
    fields = '__all__'

class TeacherSerializer(serializers.ModelSerializer):
  subjects = SubjectSerializer(many=True, required=False)
  class Meta:
    model = Teacher
    fields = '__all__'

class StudentSerializer(serializers.ModelSerializer):
  marks = serializers.PrimaryKeyRelatedField(many=True, queryset=Subject.objects.all())
  class Meta:
    model = Student
    fields = '__all__'

class MarkSerializer(serializers.ModelSerializer):
  class Meta:
    model = Mark
    fields = '__all__'

class LessonSerializer(serializers.ModelSerializer):
  class Meta:
    model = Lesson
    fields = '__all__'

class GradeSerializer(serializers.ModelSerializer):
  class Meta:
    model = Grade
    fields = '__all__'
</code></pre>
<p>urls.py</p>
<pre><code class="language-python">from school.views import TeacherViewSet, StudentViewSet, SubjectViewSet, MarkViewSet, LessonViewSet, GradeViewSet
from django.urls import include, path
from rest_framework import routers

router = routers.DefaultRouter() # SimpleRouter
router.register(r'teacher', TeacherViewSet)
router.register(r'student', StudentViewSet)
router.register(r'subject', SubjectViewSet)
router.register(r'mark', MarkViewSet)
router.register(r'lesson', LessonViewSet)
router.register(r'grade', GradeViewSet)

urlpatterns = [
  path('', include(router.urls)),
  path('auth/', include('djoser.urls')),
  path('auth/', include('djoser.urls.authtoken')),
]
</code></pre>
<p>API Root</p>
<pre><code class="language-json">{
  &quot;teacher&quot;: &quot;http://127.0.0.1:8000/api/teacher/&quot;,
  &quot;student&quot;: &quot;http://127.0.0.1:8000/api/student/&quot;,
  &quot;subject&quot;: &quot;http://127.0.0.1:8000/api/subject/&quot;,
  &quot;mark&quot;: &quot;http://127.0.0.1:8000/api/mark/&quot;,
  &quot;lesson&quot;: &quot;http://127.0.0.1:8000/api/lesson/&quot;,
  &quot;grade&quot;: &quot;http://127.0.0.1:8000/api/grade/&quot;
}
</code></pre>
<p>views.py</p>
<pre><code class="language-python">from rest_framework import viewsets
from rest_framework.response import Response
from rest_framework.decorators import action
from rest_framework.permissions import IsAuthenticated, IsAuthenticatedOrReadOnly, IsAdminUser
from django.db.models import Avg

from .models import Teacher, Student, Subject, Mark, Lesson, Grade
from .serializers import TeacherSerializer, StudentSerializer, SubjectSerializer, MarkSerializer, LessonSerializer, GradeSerializer

class TeacherViewSet(viewsets.ModelViewSet):
  queryset = Teacher.objects.all()
  serializer_class = TeacherSerializer
  permission_classes = (IsAdminUser,)

class StudentViewSet(viewsets.ModelViewSet):
  queryset = Student.objects.all()
  serializer_class = StudentSerializer
  permission_classes = (IsAdminUser,)

class SubjectViewSet(viewsets.ModelViewSet):
  queryset = Subject.objects.all()
  serializer_class = SubjectSerializer
  permission_classes = (IsAdminUser,)

class MarkViewSet(viewsets.ModelViewSet):
  queryset = Mark.objects.all()
  serializer_class = MarkSerializer
  permission_classes = (IsAdminUser,)

class LessonViewSet(viewsets.ModelViewSet):
  queryset = Lesson.objects.all()
  serializer_class = LessonSerializer
  permission_classes = (IsAdminUser,)

class GradeViewSet(viewsets.ModelViewSet):
  queryset = Grade.objects.all()
  serializer_class = GradeSerializer
  permission_classes = (IsAdminUser,)

  @action(detail=True, methods=['get'])
  def report(self, request, pk):
    grade = self.get_object()
    students = Student.objects.filter(grade=grade)
    data = {
      'average_marks': {},
      'total_students': students.count(),
      'teacher': grade.teacher.first_name + ' ' + grade.teacher.last_name,
    }
    for subject in Subject.objects.all():
      marks = Mark.objects.filter(student__grade=grade, subject=subject)
      if marks.exists():
        data['average_marks'][subject.name] = marks.aggregate(Avg('mark'))['mark__avg']
    return Response(data)
</code></pre>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.07f07601.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.56dfad97.min.js"></script>
      
    
  </body>
</html>