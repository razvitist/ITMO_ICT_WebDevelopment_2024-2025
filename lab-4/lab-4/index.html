
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../../lab-3/lab-3/">
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.34">
    
    
      
        <title>Lab-4 - Web Docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.35f28582.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#4" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Web Docs" class="md-header__button md-logo" aria-label="Web Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Web Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Lab-4
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Web Docs" class="md-nav__button md-logo" aria-label="Web Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Web Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Lab-1
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Lab-1
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lab-1/task-1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Task-1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lab-1/task-2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Task-2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lab-1/task-3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Task-3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lab-1/task-4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Task-4
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lab-1/task-5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Task-5
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Lab-2
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Lab-2
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lab-2/practice-1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Practice-1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lab-2/practice-2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Practice-2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lab-2/practice-3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Practice-3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lab-2/lab-2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lab-2
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Lab-3
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Lab-3
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lab-3/practice-1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Practice-1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lab-3/practice-2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Practice-2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lab-3/practice-3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Practice-3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lab-3/lab-3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lab-3
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Lab-4
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Lab-4
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Lab-4
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Lab-4
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      Задание
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Задание">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      Лабораторная часть
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      Вариант
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#code" class="md-nav__link">
    <span class="md-ellipsis">
      Code
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Code">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#django" class="md-nav__link">
    <span class="md-ellipsis">
      Django
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vue" class="md-nav__link">
    <span class="md-ellipsis">
      Vue
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Vue">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      Авторизация
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      Задание
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Задание">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      Лабораторная часть
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      Вариант
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#code" class="md-nav__link">
    <span class="md-ellipsis">
      Code
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Code">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#django" class="md-nav__link">
    <span class="md-ellipsis">
      Django
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vue" class="md-nav__link">
    <span class="md-ellipsis">
      Vue
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Vue">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      Авторизация
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="4">Лабораторная работа 4</h1>
<h2 id="_1">Задание</h2>
<h3 id="_2">Лабораторная часть</h3>
<p>Срок сдачи <strong>25.12.2024</strong></p>
<p>Реализация клиентской части приложения средствами vue.js.</p>
<p>Порядок выполнения работы:<br>
1.  Выполнить практическую работу 4.1 Базовые конструкции языка JavaScript). (https://docs.google.com/document/d/1lurVq_ddbKQ-rORvxF3T9PlPPy-sOgHwFazCI0yEqYY/edit?usp=sharing)
2.  Выполнить практическую работу 4.2. Работа с Vue.JS. (https://docs.google.com/document/d/1kSXkW6Vcis8z-TunNALcapCVmMHps3jaDdIP4rZkV9E/edit?usp=sharing)
3.  Настроить для серверной части, реализованной в лабораторной работе №3 CORS (Cross-origin resource sharing) в соответствии <a href="https://docs.google.com/document/d/1diaE5abmxSYEpLCwAp-or9c_h11-wR8ZSGQl3_b0nsc/edit?usp=sharing">с Практической работой 4.3</a>
4.  Утвердить с одним из преподавателей список интерфейсов для взаимодействия с серверной частью в соответствии с вашей предметной областью (<strong>это очень важный пункт, тк бывает такое, что не все студенты понимают суть своих вариантов</strong>).
5.  Реализовать интерфейсы авторизации, регистрации и изменения учётных данных и настроить взаимодействие с серверной частью.
Полезные материалы:<br>
    - Настройка авторизации средствами Vue.js и Django REST framework (DjangoSchool) (<a href="https://youtu.be/0VuOGByhiKU?list=PLF-NY6ldwAWqP9PqPU3LA7mX2KJVyLhC_">ссылка</a>)<br>
6.  Реализовать клиентские интерфейсы и настроить взаимодействие с серверной частью (интерфейсы из пункта 4).
Полезные материалы:<br>
    - Пункты 4.2, 4.3, 4.5 в <a href="https://github.com/TonikX/ITMO_ICT_WebDevelopment_2020-2021">Практической работе 4.2</a><br>
    - В освоении VUE 3 может помочь данный урок <a href="https://youtu.be/XzLuMtDelGk">урок</a>
7.  Подключить vuetify или аналогичную библиотеку.
Полезные материалы:<br>
    - Пункт 3.1 в <a href="https://github.com/TonikX/ITMO_ICT_WebDevelopment_2020-2021">Практической работе 4.2</a><br>
8.  Реализовать документацию, описывающую работу разработанных интерфейсов средствами MkDocs.</p>
<h2 id="_3">Вариант</h2>
<p>Создать программную систему, предназначенную для завуча школы. Она должна обеспечивать хранение сведений о каждом учителе, классном руководстве, о предметах, которые он преподает в заданный период, номере закрепленного за ним кабинета, о расписании занятий. Существуют учителя, которые не имеют собственного кабинета. Об учениках должны храниться следующие сведения: фамилия и имя, в каком классе учится, какую оценку имеет в текущей четверти по каждому предмету.</p>
<p>Завуч должен иметь возможность добавить сведения о новом учителе или ученике, внести в базу данных четвертные оценки учеников каждого класса по каждому предмету, удалить данные об уволившемся учителе и отчисленном из школы ученике, внести изменения в данные об учителях и учениках, в том числе поменять оценку ученика по тому или иному предмету. В задачу завуча входит также составление расписания.</p>
<p>Завучу могут потребоваться следующие сведения:</p>
<ul>
<li>Какой предмет будет в заданном классе, в заданный день недели на заданном уроке?</li>
<li>Сколько учителей преподает каждую из дисциплин в школе?</li>
<li>Список учителей, преподающих те же предметы, что и учитель, ведущий информатику в заданном классе.</li>
<li>Сколько мальчиков и девочек в каждом классе?</li>
<li>Сколько кабинетов в школе для базовых и профильных дисциплин?</li>
</ul>
<p>Необходимо предусмотреть возможность получения документа, представляющего собой отчет об успеваемости заданного класса. Отчет включает сведения об успеваемости за четверть по каждому предмету. Необходимо подсчитать средний балл по каждому предмету, по классу в целом, указать общее количество учеников в классе. Для класса указать классного руководителя.</p>
<h2 id="code">Code</h2>
<h3 id="django">Django</h3>
<pre><code>pip install django-cors-headers
</code></pre>
<p>settings.py</p>
<pre><code class="language-python">INSTALLED_APPS = [
    &quot;django.contrib.admin&quot;,
    &quot;django.contrib.auth&quot;,
    &quot;django.contrib.contenttypes&quot;,
    &quot;django.contrib.sessions&quot;,
    &quot;django.contrib.messages&quot;,
    &quot;django.contrib.staticfiles&quot;,
    'rest_framework',
    'rest_framework.authtoken',
    'djoser',
    'school',
    'django_extensions',
    'corsheaders',
]

# CORS_ORIGIN_ALLOW_ALL = True

CORS_ORIGIN_ALLOW_ALL = False

CORS_ORIGIN_WHITELIST = (
    'http://localhost:5173',
)

MIDDLEWARE = [
    'corsheaders.middleware.CorsMiddleware',
    &quot;django.middleware.security.SecurityMiddleware&quot;,
    &quot;django.contrib.sessions.middleware.SessionMiddleware&quot;,
    &quot;django.middleware.common.CommonMiddleware&quot;,
    &quot;django.middleware.csrf.CsrfViewMiddleware&quot;,
    &quot;django.contrib.auth.middleware.AuthenticationMiddleware&quot;,
    &quot;django.contrib.messages.middleware.MessageMiddleware&quot;,
    &quot;django.middleware.clickjacking.XFrameOptionsMiddleware&quot;,
]
</code></pre>
<h3 id="vue">Vue</h3>
<p>index.html</p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;&quot;&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;link rel=&quot;icon&quot; href=&quot;/favicon.ico&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
    &lt;title&gt;School&lt;/title&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/water.css@2/out/water.min.css&quot;&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;
    &lt;script type=&quot;module&quot; src=&quot;/src/main.js&quot;&gt;&lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>main.js</p>
<pre><code class="language-javascript">import { createApp } from 'vue'
import App from './App.vue'
import router from './router/router'
import store from './store'
import axios from 'axios'

axios.defaults.baseURL = 'http://127.0.0.1:8000'

createApp(App).use(store).use(router).mount('#app')

router.beforeEach((to, from, next) =&gt; {
  if (to.matched.some(record =&gt; record.meta.requiresAuth)) {
    if (!store.getters.auth) {
      next({ name: 'Login' })
    } else {
      next()
    }
  } else {
    next()
  }
})
</code></pre>
<p>App.vue</p>
<pre><code class="language-vue">&lt;script setup&gt;
import AppHeader from '@/components/AppHeader.vue'
&lt;/script&gt;

&lt;template&gt;
  &lt;div class=&quot;app&quot;&gt;
    &lt;AppHeader/&gt;
    &lt;router-view&gt;&lt;/router-view&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import axios from 'axios'

export default {
  beforeCreate() {
    this.$store.commit('initializeStore')
    const token = this.$store.state.token
    if (token){
      axios.defaults.headers.common['Authorization'] = 'Token ' + token
    }
    else {
      axios.defaults.headers.common['Authorization'] = ''
    }
  }
}
&lt;/script&gt;

&lt;style&gt;
input {
  width: 300px !important;
}
select {
  width: 320px !important;
}
&lt;/style&gt;

&lt;style scoped&gt;

&lt;/style&gt;
</code></pre>
<p>AppHeader.vue</p>
<pre><code class="language-vue">&lt;template&gt;
  &lt;header&gt;
    &lt;nav&gt;
      &lt;router-link to=&quot;/&quot; style=&quot;font-size: 30px;&quot;&gt;&lt;b&gt;School&lt;/b&gt;&lt;/router-link&gt;
      &lt;router-link to=&quot;/students&quot;&gt;Students&lt;/router-link&gt;
      &lt;router-link to=&quot;/teachers&quot;&gt;Teachers&lt;/router-link&gt;
      &lt;router-link to=&quot;/grades&quot;&gt;Grades&lt;/router-link&gt;
      &lt;router-link to=&quot;/schedule&quot;&gt;Schedule&lt;/router-link&gt;
      &lt;router-link to=&quot;/subjects&quot;&gt;Subjects&lt;/router-link&gt;
      &lt;router-link to=&quot;/marks&quot;&gt;Marks&lt;/router-link&gt;
      &lt;router-link to=&quot;/log-in&quot; v-if=&quot;!$store.getters.auth&quot;&gt;Log In&lt;/router-link&gt;
      &lt;router-link to=&quot;/sign-up&quot; v-if=&quot;!$store.getters.auth&quot;&gt;Sign Up&lt;/router-link&gt;
      &lt;a href=&quot;javascript:void(0)&quot; @click=&quot;logout&quot; v-if=&quot;$store.getters.auth&quot;&gt;Logout&lt;/a&gt;
    &lt;/nav&gt;
    &lt;hr&gt;
  &lt;/header&gt;
&lt;/template&gt;

&lt;script&gt;
import axios from 'axios'

export default {
  methods: {
    logout() {
      localStorage.removeItem('token')
      this.$store.commit('removeToken')
      axios.defaults.headers.common['Authorization'] = ''
      this.$router.push('/')
    }
  }
}
&lt;/script&gt;

&lt;style scoped&gt;
nav {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  color: white;
}
&lt;/style&gt;
</code></pre>
<p>Students.vue</p>
<pre><code class="language-vue">&lt;script setup&gt;
import { ref } from 'vue'
const dialogRef = ref(null)
const showDialog = () =&gt; dialogRef.value?.showModal()
const closeDialog = () =&gt; dialogRef.value?.close()
&lt;/script&gt;

&lt;template&gt;
  &lt;h2&gt;Students&lt;/h2&gt;
  &lt;table&gt;
    &lt;thead&gt;
      &lt;tr&gt;
        &lt;th&gt;First Name&lt;/th&gt;
        &lt;th&gt;Last Name&lt;/th&gt;
        &lt;th&gt;Gender&lt;/th&gt;
        &lt;th&gt;Grade&lt;/th&gt;
        &lt;th&gt;&lt;/th&gt;
      &lt;/tr&gt;
    &lt;/thead&gt;
    &lt;tbody&gt;
      &lt;tr v-for=&quot;student in students&quot; :key=&quot;student.id&quot;&gt;
        &lt;td&gt;{{ student.first_name }}&lt;/td&gt;
        &lt;td&gt;{{ student.last_name }}&lt;/td&gt;
        &lt;td&gt;{{ {'M': 'Male', 'F': 'Female'}[student.gender] }}&lt;/td&gt;
        &lt;td&gt;{{ `${grades.find(i =&gt; i.id == student.grade)['number']}${grades.find(i =&gt; i.id == student.grade)['letter']}` }}&lt;/td&gt;
        &lt;td style=&quot;text-align: right;&quot;&gt;
          &lt;a href=&quot;javascript:void(0)&quot; @click=&quot;this.student = Object.assign({}, student); update = 1; showDialog()&quot;&gt;edit&lt;/a&gt; / &lt;a href=&quot;javascript:void(0)&quot; @click=&quot;deleteStudent(student.id)&quot;&gt;delete&lt;/a&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/tbody&gt;
  &lt;/table&gt;
  &lt;button @click=&quot;fetchStudents&quot;&gt;Update list of students&lt;/button&gt;
  &lt;button @click=&quot;Object.keys(student).forEach(i =&gt; student[i] = ''); update = 0; showDialog()&quot;&gt;Create student&lt;/button&gt;
  &lt;dialog ref=&quot;dialogRef&quot;&gt;
    &lt;h2 v-if=&quot;update&quot;&gt;Update student&lt;/h2&gt;
    &lt;h2 v-else&gt;Create student&lt;/h2&gt;
    &lt;form @submit.prevent&gt;
      &lt;label&gt;First Name&lt;/label&gt;
      &lt;input
        v-model=&quot;student.first_name&quot;
        type=&quot;text&quot;
      &gt;
      &lt;label&gt;Last Name&lt;/label&gt;
      &lt;input
        v-model=&quot;student.last_name&quot;
        type=&quot;text&quot;
      &gt;
      &lt;label&gt;Gender&lt;/label&gt;
      &lt;select v-model=&quot;student.gender&quot;&gt;
        &lt;option value=&quot;M&quot;&gt;Male&lt;/option&gt;
        &lt;option value=&quot;F&quot;&gt;Female&lt;/option&gt;
      &lt;/select&gt;
      &lt;label&gt;Grade&lt;/label&gt;
      &lt;select v-model=&quot;student.grade&quot;&gt;
        &lt;option v-for=&quot;grade in grades&quot; :value=&quot;grade.id&quot; :key=&quot;grade.id&quot;&gt;{{ `${grade.number}${grade.letter}` }}&lt;/option&gt;
      &lt;/select&gt;
      &lt;div style=&quot;display: flex; justify-content: space-between;&quot;&gt;
        &lt;button v-if=&quot;update&quot; @click=&quot;updateStudent(); closeDialog()&quot;&gt;Update&lt;/button&gt;
        &lt;button v-else @click=&quot;createStudent(); closeDialog()&quot;&gt;Create&lt;/button&gt;
        &lt;button @click=&quot;closeDialog&quot;&gt;Cancel&lt;/button&gt;
      &lt;/div&gt;
    &lt;/form&gt;
  &lt;/dialog&gt;
&lt;/template&gt;

&lt;script&gt;
import axios from 'axios'

export default {
  data() {
    return {
      students: [],
      student: {},
      grades: [],
      update: 0
    }
  },
  methods: {
    async fetchStudents() {
      const response = await axios.get('/api/student/')
      this.students = response.data
    },
    async fetchGrades() {
      const response = await axios.get('/api/grade/')
      this.grades = response.data
    },
    async createStudent() {
      await axios.post('/api/student/', {
        marks: this.student.marks || [],
        first_name: this.student.first_name,
        last_name: this.student.last_name,
        gender: this.student.gender,
        grade: this.student.grade,
      })
      this.fetchStudents()
    },
    async deleteStudent(studentId){
      await axios.delete(`/api/student/${studentId}/`)
      this.fetchStudents()
    },
    async updateStudent(){
      console.log(this.student.id, this.student.name)
      await axios.put(`/api/student/${this.student.id}/`, { 
        id: this.student.id,
        marks: this.student.marks || [],
        first_name: this.student.first_name,
        last_name: this.student.last_name,
        gender: this.student.gender,
        grade: this.student.grade,
      })
      this.fetchStudents()
    }
  },
  mounted() {
    this.fetchStudents()
    this.fetchGrades()
  }
}
&lt;/script&gt;

&lt;style scoped&gt;

&lt;/style&gt;
</code></pre>
<p>Другие аналогично:</p>
<ul>
<li><code>Teachers.vue</code></li>
<li><code>Grades.vue</code></li>
<li><code>Schedule.vue</code></li>
<li><code>Subjects.vue</code></li>
<li><code>Marks.vue</code></li>
</ul>
<p>Для <code>Main.vue</code> сгенерировал описание выдуманной школы с помощью ChatGPT.</p>
<p>Report.vue</p>
<pre><code class="language-vue">&lt;template&gt;
  &lt;h2&gt;Report {{ grade }}&lt;/h2&gt;
  &lt;h3&gt;Total students: {{ report.total_students }}&lt;/h3&gt;
  &lt;h3&gt;Teacher: {{ report.teacher }}&lt;/h3&gt;
  &lt;h3&gt;Average marks:&lt;/h3&gt;
  &lt;p v-for=&quot;(value, name) in report.average_marks&quot; :key=&quot;name&quot;&gt;{{ name }}: {{ value }}&lt;/p&gt;
&lt;/template&gt;

&lt;script&gt;
import axios from 'axios'

export default {
  data() {
    return {
      report: {},
      grade: '',
    }
  },
  methods: {
    async fetchReport() {
      const response = await axios.get(`/api/grade/${this.$route.params.id}/report/`)
      this.report = response.data
    },
    async fetchGrades() {
      const response = await axios.get('/api/grade/')
      this.grade = response.data.find(i =&gt; i.id == this.$route.params.id)['number'] + response.data.find(i =&gt; i.id == this.$route.params.id)['letter']
    }
  },
  mounted() {
    this.fetchReport()
    this.fetchGrades()
  }
}
&lt;/script&gt;

&lt;style scoped&gt;

&lt;/style&gt;
</code></pre>
<p>router/router.js</p>
<pre><code class="language-javascript">import {createRouter, createWebHistory} from 'vue-router'
import Main from '@/views/Main.vue'
import Students from '@/views/Students.vue'
import Teachers from '@/views/Teachers.vue'
import Grades from '@/views/Grades.vue'
import Schedule from '@/views/Schedule.vue'
import Subjects from '@/views/Subjects.vue'
import Marks from '@/views/Marks.vue'
import Report from '@/views/Report.vue'
import LogIn from '@/views/LogIn.vue'
import SignUp from '@/views/SignUp.vue'

const routes = [
  {
    path: '/',
    component: Main
  },
  {
    path: '/students',
    component: Students,
    meta: { requiresAuth: true }
  },
  {
    path: '/teachers',
    component: Teachers,
    meta: { requiresAuth: true }
  },
  {
    path: '/grades',
    component: Grades,
    meta: { requiresAuth: true }
  },
  {
    path: '/schedule',
    component: Schedule,
    meta: { requiresAuth: true }
  },
  {
    path: '/subjects',
    component: Subjects,
    meta: { requiresAuth: true }
  },
  {
    path: '/marks',
    component: Marks,
    meta: { requiresAuth: true }
  },
  {
    path: '/report/:id',
    component: Report,
    meta: { requiresAuth: true }
  },
  {
    path: '/log-in',
    component: LogIn,
    name: 'Login'
  },
  {
    path: '/sign-up',
    component: SignUp
  }
]

const router = createRouter({routes, history: createWebHistory()})

export default router
</code></pre>
<h4 id="_4">Авторизация</h4>
<p>LogIn.vue</p>
<pre><code class="language-vue">&lt;template&gt;
  &lt;h2&gt;Log In&lt;/h2&gt;
  &lt;form @submit.prevent=&quot;submitForm&quot;&gt;
    &lt;label&gt;Username&lt;/label&gt;
    &lt;input
      v-model=&quot;username&quot;
      type=&quot;text&quot;
    &gt;
    &lt;label&gt;Password&lt;/label&gt;
    &lt;input
      v-model=&quot;password&quot;
      type=&quot;password&quot;
    &gt;
    &lt;button&gt;Log In&lt;/button&gt;
  &lt;/form&gt;
&lt;/template&gt;

&lt;script&gt;
import axios from 'axios'

export default {
  data() {
    return {
      username: '',
      password: '',
    }
  },
  methods: {
    async submitForm() {
      const response = await axios.post('/api/auth/token/login/', {
        username: this.username,
        password: this.password,
      })
      const token = response.data.auth_token
      this.$store.commit('setToken', token)
      axios.defaults.headers.common['Authorization'] = 'Token ' + token
      localStorage.setItem('token', token)
      this.$router.push('/')
    }
  }
}
&lt;/script&gt;

&lt;style scoped&gt;

&lt;/style&gt;
</code></pre>
<p>SignUp.vue</p>
<pre><code class="language-vue">&lt;template&gt;
  &lt;h2&gt;Sign Up&lt;/h2&gt;
  &lt;form @submit.prevent=&quot;submitForm&quot;&gt;
    &lt;label&gt;Username&lt;/label&gt;
    &lt;input
      v-model=&quot;username&quot;
      type=&quot;text&quot;
    &gt;
    &lt;label&gt;Email&lt;/label&gt;
    &lt;input
      v-model=&quot;email&quot;
      type=&quot;text&quot;
    &gt;
    &lt;label&gt;Password&lt;/label&gt;
    &lt;input
      v-model=&quot;password&quot;
      type=&quot;password&quot;
    &gt;
    &lt;button&gt;Sign Up&lt;/button&gt;
  &lt;/form&gt;
&lt;/template&gt;

&lt;script&gt;
import axios from 'axios'

export default {
  data() {
    return {
      username: '',
      email: '',
      password: '',
    }
  },
  methods: {
    async submitForm() {
      await axios.post('/api/auth/users/', {
        username: this.username,
        email: this.email,
        password: this.password,
      })
      this.$router.push('/log-in')
    }
  }
}
&lt;/script&gt;

&lt;style scoped&gt;

&lt;/style&gt;
</code></pre>
<p>store/index.js</p>
<pre><code class="language-javascript">import { createStore } from 'vuex'

export default createStore({
  state: {
    token: ''
  },
  getters: {
    auth(state){
      return Boolean(state.token)
    }
  },
  mutations: {
    initializeStore(state) {
      if (localStorage.getItem('token')){
        state.token = localStorage.getItem('token')
      }
      else {
        state.token = ''
      }
    },
    setToken(state, token) {
      state.token = token
    },
    removeToken(state) {
      state.token = ''
    }
  },
  actions: {

  },
  modules: {

  },
})
</code></pre>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.07f07601.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.56dfad97.min.js"></script>
      
    
  </body>
</html>